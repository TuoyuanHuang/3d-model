import{r as l,d as $e,a as He}from"./vendor-seEwQDT5.js";import{u as Ne,L as y,a as ve,b as Y,N as we,B as Je,R as pe,c as M}from"./router-B1Wj1Mn8.js";import{c as Be}from"./supabase-BqucFF1x.js";import{l as Ze,E as Qe,u as Xe,a as Ge,P as Ke,C as ge}from"./stripe-rSCYVjF0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const x of n)if(x.type==="childList")for(const a of x.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const x={};return n.integrity&&(x.integrity=n.integrity),n.referrerPolicy&&(x.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?x.credentials="include":n.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(n){if(n.ep)return;n.ep=!0;const x=s(n);fetch(n.href,x)}})();var Ce={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ye=l,We=Symbol.for("react.element"),es=Symbol.for("react.fragment"),ss=Object.prototype.hasOwnProperty,ts=Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,as={key:!0,ref:!0,__self:!0,__source:!0};function ke(t,r,s){var d,n={},x=null,a=null;s!==void 0&&(x=""+s),r.key!==void 0&&(x=""+r.key),r.ref!==void 0&&(a=r.ref);for(d in r)ss.call(r,d)&&!as.hasOwnProperty(d)&&(n[d]=r[d]);if(t&&t.defaultProps)for(d in r=t.defaultProps,r)n[d]===void 0&&(n[d]=r[d]);return{$$typeof:We,type:t,key:x,ref:a,props:n,_owner:ts.current}}ae.Fragment=es;ae.jsx=ke;ae.jsxs=ke;Ce.exports=ae;var e=Ce.exports,Se,be=$e;Se=be.createRoot,be.hydrateRoot;const rs="https://ddmkhgobkzpwlmzgxuzc.supabase.co",ls="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkbWtoZ29ia3pwd2xtemd4dXpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4MjczMzAsImV4cCI6MjA2NTQwMzMzMH0.DE0OQ4G93ognZuCH2z2rl-IdCy7ua1w_9bCYJuGJAwA",U=Be(rs,ls),ze=l.createContext(void 0),q=()=>{const t=l.useContext(ze);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},is=({children:t})=>{const[r,s]=l.useState(null),[d,n]=l.useState(null),[x,a]=l.useState(!1),[j,c]=l.useState(!0),h=async()=>{if(!r)return!1;try{const{data:p,error:g}=await U.from("admin_users").select("id, is_active").eq("user_id",r.id).eq("is_active",!0).maybeSingle(),m=!g&&p;return a(!!m),!!m}catch(p){return console.error("Error checking admin status:",p),a(!1),!1}},u=async(p,g)=>{try{const{data:m,error:N}=await U.auth.signInWithPassword({email:p,password:g});return N?{error:N}:(m.user&&await U.rpc("update_admin_last_login",{admin_user_id:m.user.id}),{error:null})}catch(m){return{error:m}}},o=async()=>{try{await U.auth.signOut()}catch{console.log("Session already invalid, clearing local state")}finally{a(!1),s(null),n(null)}};l.useEffect(()=>{U.auth.getSession().then(({data:{session:g}})=>{n(g),s((g==null?void 0:g.user)??null),c(!1)});const{data:{subscription:p}}=U.auth.onAuthStateChange(async(g,m)=>{n(m),s((m==null?void 0:m.user)??null),c(!1),m!=null&&m.user?await h():a(!1)});return()=>p.unsubscribe()},[]),l.useEffect(()=>{r&&h()},[r]);const i={user:r,session:d,isAdmin:x,loading:j,signIn:u,signOut:o,checkAdminStatus:h,supabase:U};return e.jsx(ze.Provider,{value:i,children:t})},_e=l.createContext(void 0),W=()=>{const t=l.useContext(_e);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},ns=({children:t})=>{const[r,s]=l.useState([]),[d,n]=l.useState(!1),{user:x,supabase:a}=q(),j=async()=>{if(!x){s([]);return}try{n(!0);const{data:m,error:N}=await a.from("cart_items").select("*").order("created_at",{ascending:!1});if(N)throw N;s(m||[])}catch(m){console.error("Error loading cart:",m)}finally{n(!1)}},c=async(m,N,w,E=1,A)=>{if(!x)throw new Error("User must be logged in to add items to cart");try{n(!0);const{data:_,error:T}=await a.rpc("add_to_cart",{p_product_id:m,p_product_name:N,p_unit_price:w,p_quantity:E,p_selected_color:A});if(T)throw T;await j()}catch(_){throw console.error("Error adding to cart:",_),_}finally{n(!1)}},h=async(m,N)=>{try{n(!0);const{data:w,error:E}=await a.rpc("update_cart_item_quantity",{p_cart_item_id:m,p_quantity:N});if(E)throw E;await j()}catch(w){throw console.error("Error updating cart item:",w),w}finally{n(!1)}},u=async m=>{await h(m,0)},o=async()=>{try{n(!0);const{error:m}=await a.rpc("clear_user_cart");if(m)throw m;s([])}catch(m){throw console.error("Error clearing cart:",m),m}finally{n(!1)}};l.useEffect(()=>{j()},[x]);const i=r.reduce((m,N)=>m+N.quantity,0),p=r.reduce((m,N)=>m+N.unit_price*N.quantity,0),g={items:r,loading:d,totalItems:i,totalAmount:p,addToCart:c,updateQuantity:h,removeItem:u,clearCart:o,refreshCart:j};return e.jsx(_e.Provider,{value:g,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var os={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),f=(t,r)=>{const s=l.forwardRef(({color:d="currentColor",size:n=24,strokeWidth:x=2,absoluteStrokeWidth:a,className:j="",children:c,...h},u)=>l.createElement("svg",{ref:u,...os,width:n,height:n,stroke:d,strokeWidth:a?Number(x)*24/Number(n):x,className:["lucide",`lucide-${cs(t)}`,j].join(" "),...h},[...r.map(([o,i])=>l.createElement(o,i)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=f("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=f("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=f("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=f("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=f("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=f("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=f("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=f("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=f("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=f("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=f("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=f("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=f("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=f("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=f("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=f("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=f("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=f("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=f("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=f("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=f("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=f("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=f("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=f("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=f("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=f("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=f("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=f("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=f("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=f("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=f("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=f("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=f("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=f("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=f("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=f("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=f("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=f("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=f("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=f("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=f("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=f("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=f("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=f("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=f("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=f("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=f("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=f("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=f("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=f("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=f("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ps=()=>{var u;const[t,r]=l.useState(!1),s=Ne(),{user:d,signOut:n,isAdmin:x}=q(),{totalItems:a}=W(),j=[{name:"Home",href:"/"},{name:"Catalogo",href:"/catalogo"},{name:"Chi Siamo",href:"/chi-siamo"},{name:"Contatti",href:"/contatti"}],c=o=>!!(o==="/"&&s.pathname==="/"||o!=="/"&&s.pathname.startsWith(o)),h=async()=>{await n(),r(!1)};return e.jsxs("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(y,{to:"/",className:"flex items-center space-x-2 text-2xl font-bold text-blue-600 hover:text-blue-700 transition-colors",children:[e.jsx(Ee,{className:"h-8 w-8"}),e.jsx("span",{children:"3D su Misura"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[j.map(o=>e.jsx(y,{to:o.href,className:`px-3 py-2 text-sm font-medium transition-colors rounded-md ${c(o.href)?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,children:o.name},o.name)),d?e.jsxs("div",{className:"flex items-center space-x-4",children:[x&&e.jsxs(y,{to:"/admin/dashboard",className:`px-3 py-2 text-sm font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname==="/admin/dashboard"?"text-purple-600 bg-purple-50":"text-purple-600 hover:text-purple-700 hover:bg-purple-50"}`,children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{children:"Admin"})]}),e.jsxs(y,{to:"/carrello",className:`relative px-3 py-2 text-sm font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname==="/carrello"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{children:"Carrello"}),a>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a})]}),e.jsxs(y,{to:"/ordini",className:`px-3 py-2 text-sm font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname.startsWith("/ordini")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{children:"Ordini"})]}),e.jsxs(y,{to:"/profilo",className:`px-3 py-2 text-sm font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname==="/profilo"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{children:"Profilo"})]}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-700 hover:text-red-600 hover:bg-gray-50 rounded-md transition-colors",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:"Esci"})]})]}):e.jsxs(y,{to:"/login",className:`px-3 py-2 text-sm font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname==="/login"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{children:"Accedi"})]})]}),e.jsx("button",{className:"md:hidden p-2 rounded-md text-gray-700 hover:text-blue-600 hover:bg-gray-100 transition-colors",onClick:()=>r(!t),children:t?e.jsx(Oe,{className:"h-6 w-6"}):e.jsx(js,{className:"h-6 w-6"})})]})}),t&&e.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[j.map(o=>e.jsx(y,{to:o.href,className:`block px-3 py-2 text-base font-medium transition-colors rounded-md ${c(o.href)?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>r(!1),children:o.name},o.name)),d?e.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3 space-y-1",children:[x&&e.jsxs(y,{to:"/admin/dashboard",className:`block px-3 py-2 text-base font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname==="/admin/dashboard"?"text-purple-600 bg-purple-50":"text-purple-600 hover:text-purple-700 hover:bg-purple-50"}`,onClick:()=>r(!1),children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{children:"Admin Dashboard"})]}),e.jsxs(y,{to:"/carrello",className:`block px-3 py-2 text-base font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname==="/carrello"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>r(!1),children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{children:"Carrello"}),a>0&&e.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center ml-auto",children:a})]}),e.jsxs(y,{to:"/ordini",className:`block px-3 py-2 text-base font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname.startsWith("/ordini")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>r(!1),children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{children:"Ordini"})]}),e.jsxs(y,{to:"/profilo",className:`block px-3 py-2 text-base font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname==="/profilo"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>r(!1),children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{children:"Profilo"})]}),e.jsxs("div",{className:"px-3 py-2 text-sm text-gray-600",children:["Ciao, ",((u=d.user_metadata)==null?void 0:u.full_name)||d.email,x&&e.jsx("span",{className:"block text-xs text-purple-600 font-medium",children:"Amministratore"})]}),e.jsxs("button",{onClick:h,className:"block w-full text-left px-3 py-2 text-base font-medium text-gray-700 hover:text-red-600 hover:bg-gray-50 rounded-md transition-colors flex items-center space-x-1",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:"Esci"})]})]}):e.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:e.jsxs(y,{to:"/login",className:`block px-3 py-2 text-base font-medium transition-colors rounded-md flex items-center space-x-1 ${s.pathname==="/login"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600 hover:bg-gray-50"}`,onClick:()=>r(!1),children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{children:"Accedi"})]})})]})})]})},Ms=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsxs(y,{to:"/",className:"flex items-center space-x-2 text-2xl font-bold mb-4",children:[e.jsx(Ee,{className:"h-8 w-8 text-blue-400"}),e.jsx("span",{children:"3D su Misura"})]}),e.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"Specializziamo nella stampa 3D professionale di alta qualità. Dalla prototipazione rapida agli oggetti personalizzati, trasformiamo le tue idee in realtà."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors",children:e.jsx(ms,{className:"h-6 w-6"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors",children:e.jsx(ps,{className:"h-6 w-6"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors",children:e.jsx(bs,{className:"h-6 w-6"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Link Rapidi"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(y,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})}),e.jsx("li",{children:e.jsx(y,{to:"/catalogo",className:"text-gray-300 hover:text-white transition-colors",children:"Catalogo"})}),e.jsx("li",{children:e.jsx(y,{to:"/chi-siamo",className:"text-gray-300 hover:text-white transition-colors",children:"Chi Siamo"})}),e.jsx("li",{children:e.jsx(y,{to:"/contatti",className:"text-gray-300 hover:text-white transition-colors",children:"Contatti"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contatti"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{className:"h-5 w-5 text-blue-400"}),e.jsx("span",{className:"text-gray-300",children:"info@3dsumisura.it"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"h-5 w-5 text-blue-400"}),e.jsx("span",{className:"text-gray-300",children:"+39 123 456 7890"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Q,{className:"h-5 w-5 text-blue-400"}),e.jsx("span",{className:"text-gray-300",children:"Via Roma 123, Milano"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," 3D su Misura. Tutti i diritti riservati."]})})]})}),Is=()=>e.jsxs("section",{className:"relative bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-blue-900 opacity-50"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold leading-tight",children:["Trasformiamo le tue",e.jsx("span",{className:"text-blue-300 block",children:"idee in realtà"})]}),e.jsx("p",{className:"text-xl lg:text-2xl text-blue-100",children:"Stampa 3D professionale di alta qualità per ogni esigenza"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-500 bg-opacity-30 p-2 rounded-lg",children:e.jsx(_s,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Velocità"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Consegna rapida"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-500 bg-opacity-30 p-2 rounded-lg",children:e.jsx(H,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Qualità"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Materiali premium"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-500 bg-opacity-30 p-2 rounded-lg",children:e.jsx(V,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Precisione"}),e.jsx("p",{className:"text-sm text-blue-200",children:"Dettagli perfetti"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs(y,{to:"/catalogo",className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition-colors duration-200 flex items-center justify-center space-x-2 group",children:[e.jsx("span",{children:"Esplora il Catalogo"}),e.jsx(se,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),e.jsx(y,{to:"/contatti",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors duration-200 flex items-center justify-center",children:"Richiedi Preventivo"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-blue-400 to-blue-600 rounded-3xl p-8 transform rotate-3 hover:rotate-6 transition-transform duration-300",children:e.jsx("img",{src:"https://cdn.discordapp.com/attachments/1286814116232560700/1380898930954342492/6-lions-for-3d-print-3d-model-max-obj-fbx-c4d-ma-stl.png?ex=68458dd9&is=68443c59&hm=e9640ae1ef65601882793783af6391b52998c319f2e9c19ce7ea7c86a1e98470&",alt:"Stampa 3D professionale",className:"w-full h-full object-cover rounded-2xl shadow-xl"})}),e.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white text-gray-900 p-4 rounded-xl shadow-lg",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"500+"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Progetti completati"})]}),e.jsxs("div",{className:"absolute -top-6 -right-6 bg-white text-gray-900 p-4 rounded-xl shadow-lg",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"24h"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tempo medio"})]})]})]})}),e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-500 rounded-full opacity-10 animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400 rounded-full opacity-10 animate-pulse delay-1000"})]})]}),De=({product:t})=>{const{user:r}=q(),{addToCart:s,loading:d}=W(),[n,x]=l.useState(t.colors[0]),[a,j]=l.useState(!1),c=async h=>{if(h.preventDefault(),h.stopPropagation(),!r){window.location.href="/login";return}try{j(!0),await s(t.id,t.name,t.price,1,n)}catch(u){console.error("Error adding to cart:",u)}finally{j(!1)}};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden group",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx(y,{to:`/prodotto/${t.id}`,children:e.jsx("img",{src:t.images[0],alt:t.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"})}),t.featured&&e.jsxs("div",{className:"absolute top-3 left-3 bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1",children:[e.jsx(qe,{className:"h-3 w-3 fill-current"}),e.jsx("span",{children:"In Evidenza"})]}),e.jsxs("div",{className:"absolute top-3 right-3 bg-white bg-opacity-90 backdrop-blur-sm rounded-full px-2 py-1 text-xs font-medium text-gray-700",children:["€",t.price.toFixed(2)]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx(y,{to:`/prodotto/${t.id}`,children:e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-blue-600 transition-colors",children:t.name})}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full",children:t.material.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-500",children:t.dimensions})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Colore:"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:n})]}),e.jsxs("div",{className:"flex space-x-1",children:[t.colors.slice(0,4).map((h,u)=>e.jsx("button",{onClick:o=>{o.preventDefault(),x(h)},className:`w-6 h-6 rounded-full border-2 transition-all ${n===h?"border-blue-500 scale-110":"border-gray-300 hover:border-gray-400"} bg-gradient-to-br from-gray-200 to-gray-400`,title:h},u)),t.colors.length>4&&e.jsxs("span",{className:"text-xs text-gray-500 ml-1 flex items-center",children:["+",t.colors.length-4]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(y,{to:`/prodotto/${t.id}`,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(us,{className:"h-4 w-4"}),e.jsx("span",{children:"Dettagli"})]}),e.jsx("button",{onClick:c,disabled:a||d,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-2 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2 group",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Aggiunta..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Carrello"})]})})]})]})]})},Es=[{id:"miniatures",name:"Miniature",description:"Miniature dettagliate per collezionisti e appassionati di giochi da tavolo"},{id:"home",name:"Oggetti per la Casa",description:"Articoli funzionali e decorativi per la vita quotidiana"},{id:"gadgets",name:"Gadget",description:"Accessori tecnologici e oggetti personalizzati unici"},{id:"prototypes",name:"Prototipi",description:"Prototipazione rapida per professionisti e aziende"}],As=[{id:"pla",name:"PLA",description:"Plastica biodegradabile, ideale per principianti"},{id:"abs",name:"ABS",description:"Plastica resistente e duratura"},{id:"petg",name:"PETG",description:"Combinazione di facilità e resistenza"},{id:"resin",name:"Resina",description:"Per dettagli ultra-precisi"}],Fs=[{id:"dragon-miniature",name:"Drago Fantasy Dettagliato",category:"miniatures",price:15.99,material:"resin",colors:["Grigio","Nero","Rosso"],dimensions:"5x8x4 cm",printTime:"3 ore",description:"Miniatura di drago altamente dettagliata, perfetta per giochi da tavolo e collezioni fantasy. Stampata in resina di alta qualità con dettagli ultra-precisi.",features:["Dettagli ultra-precisi","Base inclusa","Pronto per la pittura","Resistente agli urti"],images:["https://lh7-rt.googleusercontent.com/docsz/AD_4nXfa86v13uiVX11eP9ZXepWNiUIJsSRrXyWsJJ7LsmMnD8apOXAVTOFTxAhMDcTXcrHpoVQvsmMJkdfDdwyNTD_mXZuKO0YnlSpdddtM3EBe4QPJz3J_avNLoyOszmX75vCUpgwgDA?key=-ulKoyeUucZl0-5JnU3wPOeE","https://lh7-rt.googleusercontent.com/docsz/AD_4nXd2shk1ar0HxIkCd8aktZX2OeWFJ_7KFJGiz9lXTvE0xfb9-Ui1QbXIeUGtLCcHe8CvGOg-EQzL0pNwCGjmwkMnN36frSM1kAUW3xozyY8R-R6-lr26sMOq9w5Yt3HHk-wQHmNcjw?key=-ulKoyeUucZl0-5JnU3wPOeE"],featured:!0},{id:"phone-stand",name:"Supporto Smartphone Regolabile",category:"gadgets",price:8.5,material:"pla",colors:["Bianco","Nero","Blu","Rosso"],dimensions:"12x8x15 cm",printTime:"2 ore",description:"Supporto ergonomico per smartphone con angolazione regolabile. Design moderno e funzionale per scrivania o comodino.",features:["Angolazione regolabile","Anti-scivolo","Compatibile con tutti gli smartphone","Design minimale"],images:["https://www.techly.it/media/catalog/product/cache/3/image/1000x/9df78eab33525d08d6e5fb8d27136e95/9/a/9aad76b00ebe6499c35117f26e295e68d3fb44a0_supporto_regolabile_e_pieghevole_porta_smartphone_tablet_da_scrivania_techly_i_smart_stand6_539.jpg","https://cdn.discordapp.com/attachments/1286814116232560700/1380898070895530085/40-supporto_regolabile_e_pieghevole_porta_smartphone_tablet_da_scrivania-techly-i-smart-stand6-53934_1_10.png?ex=68458d0b&is=68443b8b&hm=11de2c0f9651f15e524d6c5e0f96bcb4c9b5b6e815e9a6b3a6845ce19bb84b02&","https://cdn.discordapp.com/attachments/1286814116232560700/1380898070895530085/40-supporto_regolabile_e_pieghevole_porta_smartphone_tablet_da_scrivania-techly-i-smart-stand6-53934_1_10.png?ex=68458d0b&is=68443b8b&hm=11de2c0f9651f15e524d6c5e0f96bcb4c9b5b6e815e9a6b3a6845ce19bb84b02&","https://cdn.discordapp.com/attachments/1286814116232560700/1380898114847768766/50-supporto_regolabile_e_pieghevole_porta_smartphone_tablet_da_scrivania-techly-i-smart-stand6-53934_1_5.png?ex=68458d16&is=68443b96&hm=3d27db818fa86f00033dcd45a1ac0a85fab8e495d37e3484a146803a5c5a107b&","https://media.discordapp.net/attachments/1286814116232560700/1380898179154710548/120-supporto_regolabile_e_pieghevole_porta_smartphone_tablet_da_scrivania-techly-i-smart-stand6-53934_10_1.png?ex=68458d25&is=68443ba5&hm=b9c4ed82b221ca5e9feec7b31ce174bab70d6794ba6d60f71565cf7e647032ea&=&format=webp&quality=lossless&width=894&height=894"],featured:!0},{id:"decorative-vase",name:"Vaso Decorativo Geometrico",category:"home",price:22,material:"petg",colors:["Bianco","Grigio","Verde","Blu"],dimensions:"15x15x20 cm",printTime:"6 ore",description:"Elegante vaso decorativo con pattern geometrico moderno. Perfetto per piante grasse o come elemento decorativo.",features:["Design geometrico unico","Resistente all'acqua","Fondo anti-scivolo","Facile da pulire"],images:["https://iconichome.com/wp-content/uploads/iconic-home-vase-straight-3-set-shadow-grey-581x775.jpg","https://iconichome.com/wp-content/uploads/iconic-home-vase-shape-3-set-dreamy-grey-1.jpg"],featured:!0},{id:"chess-set",name:"Set Scacchi Moderno",category:"miniatures",price:45,material:"pla",colors:["Bianco/Nero","Rosso/Blu"],dimensions:"40x40x8 cm",printTime:"12 ore",description:"Set completo di scacchi con design contemporaneo. Include scacchiera pieghevole e tutti i 32 pezzi.",features:["32 pezzi inclusi","Scacchiera pieghevole","Design moderno","Perfetto equilibrio"],images:["https://images.pexels.com/photos/1040157/pexels-photo-1040157.jpeg","https://images.pexels.com/photos/163064/play-stone-network-networked-interactive-163064.jpeg"],featured:!1},{id:"desk-organizer",name:"Organizer da Scrivania",category:"home",price:18.5,material:"abs",colors:["Nero","Bianco","Grigio"],dimensions:"25x15x10 cm",printTime:"4 ore",description:"Organizer multifunzionale per scrivania con scomparti per penne, clip, post-it e piccoli oggetti.",features:["Multipli scomparti","Base anti-scivolo","Materiale resistente","Design ergonomico"],images:["https://images.pexels.com/photos/1181676/pexels-photo-1181676.jpeg","https://images.pexels.com/photos/7688336/pexels-photo-7688336.jpeg"],featured:!1},{id:"custom-keychain",name:"Portachiavi Personalizzato",category:"gadgets",price:5.99,material:"pla",colors:["Multicolore"],dimensions:"3x5x0.5 cm",printTime:"30 minuti",description:"Portachiavi personalizzabile con nome, logo o design a scelta. Perfetto come regalo o gadget aziendale.",features:["Completamente personalizzabile","Resistente all'usura","Colori vivaci","Consegna rapida"],images:["https://images.pexels.com/photos/4219654/pexels-photo-4219654.jpeg","https://images.pexels.com/photos/3184357/pexels-photo-3184357.jpeg"],featured:!1},{id:"prototype-housing",name:"Prototipo Involucro Elettronico",category:"prototypes",price:35,material:"abs",colors:["Grigio","Nero"],dimensions:"10x6x3 cm",printTime:"5 ore",description:"Prototipo di involucro per dispositivi elettronici. Ideale per test di form factor e assemblaggio.",features:["Precisione dimensionale","Resistente al calore","Modificabile","Tempi rapidi"],images:["https://images.pexels.com/photos/163064/play-stone-network-networked-interactive-163064.jpeg","https://images.pexels.com/photos/1040173/pexels-photo-1040173.jpeg"],featured:!1},{id:"plant-pot",name:"Vaso per Piante Succulente",category:"home",price:12.99,material:"petg",colors:["Terracotta","Bianco","Verde"],dimensions:"8x8x6 cm",printTime:"2.5 ore",description:"Piccolo vaso perfetto per piante grasse e succulente. Include foro di drenaggio e sottovaso.",features:["Foro di drenaggio","Sottovaso incluso","Dimensione perfetta","Materiale food-safe"],images:["https://images.pexels.com/photos/1029615/pexels-photo-1029615.jpeg","https://images.pexels.com/photos/1598300/pexels-photo-1598300.jpeg"],featured:!1}],$={categories:Es,materials:As,products:Fs},qs=()=>{const t=$.products.filter(r=>r.featured);return e.jsxs("div",{children:[e.jsx(Is,{}),e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Prodotti in Evidenza"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Scopri alcuni dei nostri progetti più apprezzati e richiesti"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:t.map(r=>e.jsx(De,{product:r},r.id))}),e.jsx("div",{className:"text-center",children:e.jsxs(y,{to:"/catalogo",className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-lg font-semibold transition-colors duration-200 group",children:[e.jsx("span",{children:"Vedi Tutto il Catalogo"}),e.jsx(se,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"I Nostri Servizi"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Offriamo soluzioni complete per ogni esigenza di stampa 3D"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors",children:e.jsx(gs,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Prototipazione"}),e.jsx("p",{className:"text-gray-600",children:"Trasformiamo le tue idee in prototipi funzionali per test e validazione"})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"bg-teal-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-teal-200 transition-colors",children:e.jsx(he,{className:"h-8 w-8 text-teal-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Personalizzazione"}),e.jsx("p",{className:"text-gray-600",children:"Oggetti unici e personalizzati per ogni occasione e necessità"})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-orange-200 transition-colors",children:e.jsx(Pe,{className:"h-8 w-8 text-orange-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Alta Qualità"}),e.jsx("p",{className:"text-gray-600",children:"Utilizziamo materiali premium e tecnologie all'avanguardia"})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-green-200 transition-colors",children:e.jsx(V,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Tempi Rapidi"}),e.jsx("p",{className:"text-gray-600",children:"Consegne veloci senza compromettere la qualità del prodotto"})]})]})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Hai un progetto in mente?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Contattaci per discutere della tua idea e ricevere un preventivo personalizzato"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsx(y,{to:"/contatti",className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition-colors duration-200",children:"Richiedi Preventivo"}),e.jsx(y,{to:"/chi-siamo",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors duration-200",children:"Scopri Chi Siamo"})]})]})})]})},Ts=()=>{const t=[{label:"Progetti Completati",value:"500+",icon:Pe},{label:"Clienti Soddisfatti",value:"200+",icon:he},{label:"Anni di Esperienza",value:"5+",icon:V},{label:"Materiali Disponibili",value:"10+",icon:Q}],r=[{name:"Marco Rossi",role:"Fondatore & CEO",image:"https://images.pexels.com/photos/2182970/pexels-photo-2182970.jpeg",description:"Ingegnere meccanico con una passione per l'innovazione e la tecnologia 3D."},{name:"Laura Bianchi",role:"Designer Tecnico",image:"https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg",description:"Esperta in design industriale e modellazione 3D con 8 anni di esperienza."},{name:"Alessandro Verdi",role:"Specialista Materiali",image:"https://images.pexels.com/photos/2182970/pexels-photo-2182970.jpeg",description:"Chimico dei materiali specializzato in polimeri e tecnologie di stampa 3D."}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-600 to-blue-800 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Chi Siamo"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Siamo un team di professionisti appassionati che trasforma idee innovative in realtà tangibile attraverso la tecnologia di stampa 3D più avanzata."}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"h-6 w-6 text-red-400"}),e.jsx("span",{className:"text-blue-100",children:"Passione per l'innovazione"})]})})]}),e.jsx("div",{className:"relative",children:e.jsx("img",{src:"https://images.pexels.com/photos/163064/play-stone-network-networked-interactive-163064.jpeg",alt:"Il nostro team al lavoro",className:"rounded-lg shadow-xl"})})]})})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((s,d)=>{const n=s.icon;return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(n,{className:"h-8 w-8 text-blue-600"})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.value}),e.jsx("div",{className:"text-gray-600",children:s.label})]},d)})})})}),e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Ss,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"La Nostra Missione"})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Rendere accessibile la tecnologia di stampa 3D a tutti, dalle aziende ai privati, offrendo servizi di alta qualità, consulenza personalizzata e soluzioni innovative. Crediamo che ogni idea meriti di essere realizzata con precisione e cura."})]}),e.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(fe,{className:"h-8 w-8 text-red-500 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"I Nostri Valori"})]}),e.jsxs("ul",{className:"space-y-3 text-gray-600",children:[e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Qualità:"})," Utilizziamo solo materiali premium e tecnologie all'avanguardia"]})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Innovazione:"})," Sempre alla ricerca di nuove soluzioni e miglioramenti"]})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Servizio:"})," Supporto personalizzato per ogni cliente e progetto"]})]})]})]})]})})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Il Nostro Team"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Un gruppo di professionisti esperti e appassionati, uniti dalla voglia di innovare"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((s,d)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-blue-600 font-medium mb-3",children:s.role}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.description})]},d))})]})}),e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Le Nostre Tecnologie"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Utilizziamo le tecnologie di stampa 3D più avanzate per garantire risultati eccellenti"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"FDM/FFF"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Stampa a deposizione fusa per oggetti funzionali e prototipi"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"SLA/DLP"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Stereolitografia per dettagli ultra-precisi e superfici lisce"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"SLS"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Sinterizzazione laser per parti meccaniche resistenti"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 text-center shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Multi-Material"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Stampa multi-materiale per progetti complessi"})]})]})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Pronto a Realizzare la Tua Idea?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Contattaci per discutere del tuo progetto e scoprire come possiamo aiutarti"}),e.jsx("a",{href:"/contatti",className:"inline-block bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition-colors duration-200",children:"Iniziamo Insieme"})]})})]})},Os=()=>{const[t,r]=l.useState(""),[s,d]=l.useState("all"),[n,x]=l.useState("all"),[a,j]=l.useState([0,100]),[c,h]=l.useState("name"),u=l.useMemo(()=>{let i=$.products.filter(p=>{const g=p.name.toLowerCase().includes(t.toLowerCase())||p.description.toLowerCase().includes(t.toLowerCase()),m=s==="all"||p.category===s,N=n==="all"||p.material===n,w=p.price>=a[0]&&p.price<=a[1];return g&&m&&N&&w});return i.sort((p,g)=>{switch(c){case"price-low":return p.price-g.price;case"price-high":return g.price-p.price;case"name":default:return p.name.localeCompare(g.name)}}),i},[t,s,n,a,c]),o=()=>{r(""),d("all"),x("all"),j([0,100]),h("name")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Catalogo Prodotti"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Esplora la nostra ampia selezione di prodotti stampati in 3D"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(xs,{className:"h-5 w-5 mr-2"}),"Filtri"]}),e.jsx("button",{onClick:o,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Cancella"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cerca"}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Nome prodotto...",value:t,onChange:i=>r(i.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria"}),e.jsxs("select",{value:s,onChange:i=>d(i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tutte le categorie"}),$.categories.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Materiale"}),e.jsxs("select",{value:n,onChange:i=>x(i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tutti i materiali"}),$.materials.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fascia di Prezzo: €",a[0]," - €",a[1]]}),e.jsx("div",{className:"space-y-2",children:e.jsx("input",{type:"range",min:"0",max:"100",value:a[1],onChange:i=>j([a[0],parseInt(i.target.value)]),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx(ds,{className:"h-4 w-4 mr-2"}),"Ordina per"]}),e.jsxs("select",{value:c,onChange:i=>h(i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"name",children:"Nome A-Z"}),e.jsx("option",{value:"price-low",children:"Prezzo: dal più basso"}),e.jsx("option",{value:"price-high",children:"Prezzo: dal più alto"})]})]})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("p",{className:"text-gray-600",children:[u.length," prodotti trovati"]})}),u.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map(i=>e.jsx(De,{product:i},i.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(oe,{className:"h-16 w-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nessun prodotto trovato"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Prova a modificare i filtri di ricerca"}),e.jsx("button",{onClick:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Cancella Filtri"})]})]})]})]})})},Ds=()=>{const[t,r]=l.useState({name:"",email:"",phone:"",subject:"",message:"",service:"generale"}),[s,d]=l.useState(!1),[n,x]=l.useState(!1),a=c=>{r({...t,[c.target.name]:c.target.value})},j=async c=>{c.preventDefault(),d(!0),await new Promise(h=>setTimeout(h,1500)),d(!1),x(!0),setTimeout(()=>{x(!1),r({name:"",email:"",phone:"",subject:"",message:"",service:"generale"})},3e3)};return n?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[e.jsx(D,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Messaggio inviato con successo!"}),e.jsx("p",{className:"text-green-700",children:"Ti contatteremo al più presto per fornirti tutte le informazioni richieste."})]}):e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Il tuo nome"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"tua@email.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefono"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"+39 123 456 7890"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"service",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo di Servizio"}),e.jsxs("select",{id:"service",name:"service",value:t.service,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[e.jsx("option",{value:"generale",children:"Informazioni Generali"}),e.jsx("option",{value:"preventivo",children:"Richiesta Preventivo"}),e.jsx("option",{value:"prototipo",children:"Prototipazione"}),e.jsx("option",{value:"personalizzato",children:"Oggetto Personalizzato"}),e.jsx("option",{value:"supporto",children:"Supporto Tecnico"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Oggetto *"}),e.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:t.subject,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Oggetto della richiesta"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Messaggio *"}),e.jsx("textarea",{id:"message",name:"message",required:!0,rows:6,value:t.message,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none",placeholder:"Descrivi la tua richiesta nel dettaglio..."})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-4 px-6 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Invio in corso..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Cs,{className:"h-5 w-5"}),e.jsx("span",{children:"Invia Messaggio"})]})})]})},Ls=()=>{const t=[{icon:re,label:"Telefono",value:"+39 123 456 7890",description:"Lun-Ven 9:00-18:00"},{icon:ee,label:"Email",value:"info@print3dpro.it",description:"Risposta entro 24h"},{icon:Q,label:"Indirizzo",value:"Via Roma 123, 20121 Milano",description:"Su appuntamento"},{icon:V,label:"Orari",value:"Lun-Ven 9:00-18:00",description:"Sab 9:00-13:00"}],r=[{question:"Quali materiali utilizzate?",answer:"Utilizziamo una vasta gamma di materiali tra cui PLA, ABS, PETG, TPU, resine fotopolimeriche e materiali speciali come fibra di carbonio e metallo."},{question:"Quanto tempo richiede un progetto?",answer:"I tempi variano in base alla complessità del progetto. Oggetti semplici possono essere pronti in 24-48 ore, mentre progetti complessi possono richiedere 1-2 settimane."},{question:"Offrite servizi di progettazione?",answer:"Sì, il nostro team di designer può aiutarti a sviluppare il tuo progetto da zero o ottimizzare modelli esistenti per la stampa 3D."},{question:"Quali sono i costi?",answer:"I costi dipendono dalle dimensioni, materiale, complessità e quantità. Contattaci per un preventivo personalizzato gratuito."}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-600 to-blue-800 text-white py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-6",children:"Contattaci"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"Siamo qui per rispondere alle tue domande e aiutarti a realizzare i tuoi progetti. Contattaci per una consulenza gratuita."})]})})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((s,d)=>{const n=s.icon;return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(n,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s.label}),e.jsx("p",{className:"text-blue-600 font-medium mb-1",children:s.value}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]},d)})})})}),e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(fs,{className:"h-6 w-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invia un Messaggio"})]}),e.jsx(Ds,{})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Q,{className:"h-12 w-12 mx-auto mb-2"}),e.jsx("p",{children:"Mappa Interattiva"}),e.jsx("p",{className:"text-sm",children:"Via Roma 123, Milano"})]})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Come Raggiungerci"}),e.jsxs("div",{className:"space-y-3 text-gray-600",children:[e.jsxs("p",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Metro:"}),e.jsx("span",{children:"Linea M1, fermata Duomo (5 min a piedi)"})]}),e.jsxs("p",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Bus:"}),e.jsx("span",{children:"Linee 54, 61, fermata Via Roma"})]}),e.jsxs("p",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"font-medium",children:"Auto:"}),e.jsx("span",{children:"Parcheggio a pagamento nelle vicinanze"})]})]})]})]})]})})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Domande Frequenti"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Trova rapidamente le risposte alle domande più comuni"})]}),e.jsx("div",{className:"space-y-6",children:r.map((s,d)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:s.question}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.answer})]},d))})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-blue-800 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Pronto per Iniziare?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Contattaci oggi stesso per una consulenza gratuita e scopri come possiamo aiutarti a realizzare i tuoi progetti."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsx("a",{href:"tel:+391234567890",className:"bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition-colors duration-200",children:"Chiama Ora"}),e.jsx("a",{href:"mailto:info@print3dpro.it",className:"border-2 border-white text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors duration-200",children:"Invia Email"})]})]})})]})},Rs=Ze("pk_live_51RZu0xK6bIzMmMsoreqYoDurkwOtKwSDfnfa6kEJIHg3qPIiDAsgYaCpp4ppbXdhohC9Y5gZbwtzapgAhsUNEveA00XpLYweaz"),Vs=({amount:t,productName:r,productId:s,cartItems:d,selectedColor:n,quantity:x=1,customerInfo:a,authToken:j,onSuccess:c,onError:h})=>{const u=Xe(),o=Ge(),[i,p]=l.useState(!1),[g,m]=l.useState("idle"),[N,w]=l.useState(""),[E,A]=l.useState(""),[_,T]=l.useState(null),[B,Z]=l.useState(!1);He.useEffect(()=>{if(u){const z=u.paymentRequest({country:"IT",currency:"eur",total:{label:r,amount:Math.round(t*100)},requestPayerName:!0,requestPayerEmail:!0,requestPayerPhone:!0});z.canMakePayment().then(v=>{v&&(T(z),Z(!0))}),z.on("paymentmethod",async v=>{try{p(!0),m("processing"),w("");const k=await L();if(!k.clientSecret)throw new Error("Failed to create payment intent");const{error:P,paymentIntent:O}=await u.confirmCardPayment(k.clientSecret,{payment_method:v.paymentMethod.id},{handleActions:!1});if(P)throw v.complete("fail"),new Error(P.message||"Payment failed");if((O==null?void 0:O.status)==="succeeded")v.complete("success"),m("success"),A(k.orderId),c==null||c(k.orderId);else throw v.complete("fail"),new Error("Payment not completed")}catch(k){v.complete("fail");const P=k instanceof Error?k.message:"Payment failed";w(P),m("error"),h==null||h(P)}finally{p(!1)}})}},[u,t,r]);const L=async()=>{if(!a.name||!a.email)throw new Error("Nome e email sono obbligatori");if(!j)throw new Error("Token di autenticazione mancante. Effettua il login per continuare.");const z="https://ddmkhgobkzpwlmzgxuzc.supabase.co",v={amount:Math.round(t*100),currency:"eur",productName:r,productId:s,selectedColor:n,quantity:x,cartItems:d,customerInfo:a};console.log("Creating payment intent with data:",v);const k=await fetch(`${z}/functions/v1/create-payment-intent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify(v)});if(!k.ok){const O=await k.text();console.error("Payment intent creation failed:",O);let X;try{X=JSON.parse(O)}catch{X={error:"Errore nella creazione del pagamento"}}throw new Error(X.error||"Errore nella creazione del pagamento")}const P=await k.json();return console.log("Payment intent created successfully:",P),P},S=async z=>{if(z.preventDefault(),!u||!o){w("Stripe non è ancora caricato. Riprova tra qualche secondo.");return}const v=o.getElement(ge);if(!v){w("Elemento carta non trovato");return}p(!0),m("processing"),w("");try{const k=await L();A(k.orderId);const{error:P,paymentIntent:O}=await u.confirmCardPayment(k.clientSecret,{payment_method:{card:v,billing_details:{name:a.name,email:a.email,phone:a.phone,address:a.address&&a.city&&a.postalCode?{line1:a.address,city:a.city,postal_code:a.postalCode,country:"IT"}:void 0}}});if(P)throw new Error(P.message||"Errore durante il pagamento");if((O==null?void 0:O.status)==="succeeded")m("success"),c==null||c(k.orderId);else throw new Error("Pagamento non completato")}catch(k){const P=k instanceof Error?k.message:"Errore durante il pagamento";console.error("Payment error:",k),w(P),m("error"),h==null||h(P)}finally{p(!1)}};return g==="success"?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[e.jsx(D,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"Pagamento Completato!"}),e.jsxs("p",{className:"text-green-700 mb-4",children:['Il tuo ordine "',r,'" è stato processato con successo.']}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Numero Ordine:"}),e.jsxs("p",{className:"font-mono text-lg font-semibold text-gray-900",children:["#",E.slice(0,8)]})]}),e.jsx("p",{className:"text-sm text-green-600",children:"Riceverai una conferma via email a breve."})]}):e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ie,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-800",children:"Pagamento Sicuro"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"I tuoi dati sono protetti con crittografia SSL a 256 bit"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Metodo di Pagamento"}),B&&_&&e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(ks,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Pagamento Rapido"})]}),e.jsx(Ke,{options:{paymentRequest:_,style:{paymentRequestButton:{type:"buy",theme:"dark",height:"48px"}}}}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("span",{className:"text-sm text-gray-500",children:"oppure"})})]}),e.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(de,{className:"h-6 w-6 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900 text-lg",children:"Carta di Credito/Debito"})]}),e.jsx("div",{className:"w-full p-4 border-2 border-gray-200 rounded-lg bg-white focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-200 transition-all",style:{minHeight:"60px",display:"block",position:"relative"},children:e.jsx(ge,{options:{style:{base:{fontSize:"16px",lineHeight:"24px",color:"#1f2937",backgroundColor:"transparent",fontFamily:"Inter, system-ui, sans-serif",fontSmoothing:"antialiased","::placeholder":{color:"#9ca3af"},":-webkit-autofill":{color:"#1f2937"}},invalid:{color:"#ef4444",iconColor:"#ef4444"},complete:{color:"#059669",iconColor:"#059669"}},hidePostalCode:!1,iconStyle:"solid"}})}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Inserisci i dati della tua carta di credito o debito"})]})]}),N&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(R,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Errore nel Pagamento"}),e.jsx("p",{className:"text-sm text-red-700",children:N})]})]}),e.jsx("button",{type:"submit",disabled:!u||i||g==="processing",className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-4 px-6 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Elaborazione..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"h-5 w-5"}),e.jsxs("span",{children:["Paga €",t.toFixed(2)]})]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:'Cliccando "Paga" accetti i nostri termini di servizio e la privacy policy'})]})},Le=t=>e.jsx(Qe,{stripe:Rs,children:e.jsx(Vs,{...t})}),Us=()=>{var z;const{id:t}=ve(),r=Y(),{user:s,session:d}=q(),{addToCart:n,loading:x}=W(),a=$.products.find(v=>v.id===t),[j,c]=l.useState(0),[h,u]=l.useState(0),[o,i]=l.useState(1),[p,g]=l.useState(!1),[m,N]=l.useState(!1),[w,E]=l.useState({name:((z=s==null?void 0:s.user_metadata)==null?void 0:z.full_name)||"",email:(s==null?void 0:s.email)||"",phone:"",address:"",city:"",postalCode:""});if(!a)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Prodotto non trovato"}),e.jsxs(y,{to:"/catalogo",className:"text-blue-600 hover:text-blue-700 font-medium flex items-center justify-center space-x-2",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:"Torna al catalogo"})]})]})});const A=$.categories.find(v=>v.id===a.category),_=$.materials.find(v=>v.id===a.material),T=async()=>{if(!s){r("/login");return}try{g(!0),await n(a.id,a.name,a.price,o,a.colors[h])}catch(v){console.error("Error adding to cart:",v)}finally{g(!1)}},B=()=>{if(!s){r("/login");return}N(!0)},Z=v=>{r(`/ordini/${v}`)},L=v=>{console.error("Payment error:",v),N(!1)},S=v=>{E({...w,[v.target.name]:v.target.value})};return m?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>N(!1),className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium mb-4",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:"Torna al prodotto"})]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Completa il tuo acquisto"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2"}),"Riepilogo Prodotto"]}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("img",{src:a.images[0],alt:a.name,className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:a.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:a.description}),e.jsxs("p",{className:"text-lg font-bold text-blue-600 mt-2",children:["€",a.price.toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Colore: "}),e.jsx("span",{className:"font-medium",children:a.colors[h]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Quantità: "}),e.jsx("span",{className:"font-medium",children:o})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[e.jsx("span",{children:"Totale:"}),e.jsxs("span",{className:"text-blue-600",children:["€",(a.price*o).toFixed(2)]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Informazioni di Pagamento"}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:w.name,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mario Rossi"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:w.email,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"mario@email.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefono"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:w.phone,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+39 123 456 7890"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Indirizzo"}),e.jsx("input",{type:"text",id:"address",name:"address",value:w.address,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Via Roma 123"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"Città"}),e.jsx("input",{type:"text",id:"city",name:"city",value:w.city,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Milano"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"CAP"}),e.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:w.postalCode,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"20121"})]})]})]}),e.jsx(Le,{amount:a.price*o,productName:a.name,productId:a.id,selectedColor:a.colors[h],quantity:o,customerInfo:w,authToken:d==null?void 0:d.access_token,onSuccess:Z,onError:L})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("nav",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(y,{to:"/",className:"hover:text-blue-600",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx(y,{to:"/catalogo",className:"hover:text-blue-600",children:"Catalogo"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900",children:a.name})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square bg-white rounded-lg overflow-hidden shadow-sm",children:e.jsx("img",{src:a.images[j],alt:a.name,className:"w-full h-full object-cover"})}),a.images.length>1&&e.jsx("div",{className:"flex space-x-2",children:a.images.map((v,k)=>e.jsx("button",{onClick:()=>c(k),className:`w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors ${j===k?"border-blue-500":"border-gray-200"}`,children:e.jsx("img",{src:v,alt:`${a.name} ${k+1}`,className:"w-full h-full object-cover"})},k))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[a.featured&&e.jsxs("div",{className:"inline-flex items-center space-x-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium mb-2",children:[e.jsx(qe,{className:"h-4 w-4 fill-current"}),e.jsx("span",{children:"In Evidenza"})]}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2",children:a.name}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:A==null?void 0:A.name}),e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["€",a.price.toFixed(2)]})]}),e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx("p",{children:a.description})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Specifiche Tecniche"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(I,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Materiale"}),e.jsx("p",{className:"font-medium",children:_==null?void 0:_.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ws,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Dimensioni"}),e.jsx("p",{className:"font-medium",children:a.dimensions})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(V,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tempo di stampa"}),e.jsx("p",{className:"font-medium",children:a.printTime})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ns,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Colori disponibili"}),e.jsx("p",{className:"font-medium",children:a.colors.length})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Colori Disponibili"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.colors.map((v,k)=>e.jsx("button",{onClick:()=>u(k),className:`px-4 py-2 rounded-full border-2 text-sm font-medium transition-colors ${h===k?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-gray-400"}`,children:v},k))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Quantità"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>i(Math.max(1,o-1)),className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:"-"}),e.jsx("span",{className:"font-medium text-gray-900 w-12 text-center text-lg",children:o}),e.jsx("button",{onClick:()=>i(o+1),className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:"+"})]})]}),a.features&&a.features.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Caratteristiche"}),e.jsx("ul",{className:"space-y-2",children:a.features.map((v,k)=>e.jsxs("li",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),e.jsx("span",{className:"text-gray-700",children:v})]},k))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("button",{onClick:T,disabled:p||x,className:"bg-gray-100 hover:bg-gray-200 disabled:bg-gray-300 text-gray-700 py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-600"}),e.jsx("span",{children:"Aggiunta..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-5 w-5"}),e.jsx("span",{children:"Aggiungi al Carrello"})]})}),e.jsxs("button",{onClick:B,disabled:x,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(te,{className:"h-5 w-5"}),e.jsx("span",{children:"Acquista Ora"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("a",{href:`mailto:info@3dsumisura.it?subject=Richiesta informazioni - ${a.name}`,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsx("span",{children:"Info"})]}),e.jsxs("a",{href:"tel:+391234567890",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{children:"Chiama"})]})]})]}),_&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informazioni sul Materiale"}),e.jsx("p",{className:"text-sm text-gray-600",children:_.description})]})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs(y,{to:"/catalogo",className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:"Torna al Catalogo"})]})})]})})},$s=()=>{const{items:t,loading:r,totalAmount:s,updateQuantity:d,removeItem:n,clearCart:x}=W(),a=async(c,h)=>{h<1?await n(c):await d(c,h)},j=async()=>{window.confirm("Sei sicuro di voler svuotare il carrello?")&&await x()};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Caricamento carrello..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx(te,{className:"h-8 w-8 mr-3"}),"Il Mio Carrello"]}),e.jsx("p",{className:"text-gray-600",children:t.length===0?"Il tuo carrello è vuoto":`${t.length} ${t.length===1?"prodotto":"prodotti"} nel carrello`})]}),t.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[e.jsx(I,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Carrello Vuoto"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Non hai ancora aggiunto nessun prodotto al carrello"}),e.jsxs(y,{to:"/catalogo",className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[e.jsx("span",{children:"Esplora il Catalogo"}),e.jsx(se,{className:"h-4 w-4"})]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Prodotti"}),e.jsxs("button",{onClick:j,className:"text-red-600 hover:text-red-700 text-sm font-medium flex items-center space-x-1",children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsx("span",{children:"Svuota carrello"})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(c=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(I,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:c.product_name}),c.selected_color&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Colore: ",c.selected_color]}),e.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["€",c.unit_price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>a(c.id,c.quantity-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(ys,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-medium text-gray-900 w-8 text-center",children:c.quantity}),e.jsx("button",{onClick:()=>a(c.id,c.quantity+1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(xe,{className:"h-4 w-4"})})]}),e.jsx("button",{onClick:()=>n(c.id),className:"text-red-600 hover:text-red-700 p-1",children:e.jsx(ye,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"mt-4 text-right",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Subtotale: ",e.jsxs("span",{className:"font-medium text-gray-900",children:["€",(c.unit_price*c.quantity).toFixed(2)]})]})})]},c.id))})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-24",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Riepilogo Ordine"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotale"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["€",s.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Spedizione"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Gratuita"})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Totale"}),e.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:["€",s.toFixed(2)]})]})})]}),e.jsxs(y,{to:"/checkout",className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx("span",{children:"Procedi al Checkout"}),e.jsx(se,{className:"h-4 w-4"})]}),e.jsx(y,{to:"/catalogo",className:"block w-full text-center text-blue-600 hover:text-blue-700 font-medium mt-4",children:"Continua lo Shopping"})]})})]})]})})},Hs=()=>{var p;const{user:t,session:r}=q(),{items:s,totalAmount:d,clearCart:n}=W(),x=Y(),[a,j]=l.useState({name:((p=t==null?void 0:t.user_metadata)==null?void 0:p.full_name)||"",email:(t==null?void 0:t.email)||"",phone:"",address:"",city:"",postalCode:""}),[c,h]=l.useState(!1);l.useEffect(()=>{s.length===0&&x("/carrello")},[s,x]),l.useEffect(()=>{const g=a.name.trim()!==""&&a.email.trim()!=="";h(g)},[a]);const u=g=>{j({...a,[g.target.name]:g.target.value})},o=async g=>{try{await n(),x(`/ordini/${g}`)}catch(m){console.error("Error clearing cart:",m),x(`/ordini/${g}`)}},i=g=>{console.error("Payment error:",g)};return s.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(I,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Carrello Vuoto"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Aggiungi prodotti al carrello per procedere al checkout"}),e.jsx("button",{onClick:()=>x("/catalogo"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium",children:"Vai al Catalogo"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Checkout"}),e.jsx("p",{className:"text-gray-600",children:"Completa il tuo ordine con pagamento sicuro"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2"}),"Riepilogo Ordine"]}),e.jsx("div",{className:"space-y-4 mb-6",children:s.map(g=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:g.product_name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("span",{children:["Quantità: ",g.quantity]}),g.selected_color&&e.jsxs("span",{className:"ml-4",children:["Colore: ",g.selected_color]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["€",g.unit_price.toFixed(2)]}),g.quantity>1&&e.jsxs("p",{className:"text-sm text-gray-600",children:["€",(g.unit_price*g.quantity).toFixed(2)," totale"]})]})]},g.id))}),e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[e.jsx("span",{children:"Totale:"}),e.jsxs("span",{className:"text-blue-600",children:["€",d.toFixed(2)]})]})}),e.jsxs("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ie,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800",children:"Pagamento Sicuro"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"I tuoi dati sono protetti con crittografia SSL a 256 bit"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(de,{className:"h-5 w-5 mr-2"}),"Pagamento"]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(J,{className:"h-5 w-5 mr-2"}),"Informazioni Cliente"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:a.name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mario Rossi"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:a.email,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"mario@email.com"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefono"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+39 123 456 7890"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Indirizzo"}),e.jsx("input",{type:"text",id:"address",name:"address",value:a.address,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Via Roma 123"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"Città"}),e.jsx("input",{type:"text",id:"city",name:"city",value:a.city,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Milano"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"CAP"}),e.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:a.postalCode,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"20121"})]})]})]}),c?e.jsx(Le,{amount:d,productName:`Ordine carrello (${s.length} ${s.length===1?"prodotto":"prodotti"})`,productId:"cart-order",cartItems:s,customerInfo:a,authToken:r==null?void 0:r.access_token,onSuccess:o,onError:i}):e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"Completa le informazioni obbligatorie per procedere al pagamento"}),e.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"I campi Nome e Email sono obbligatori"})]})]})]})]})})},Js=()=>{const{supabase:t}=q(),[r,s]=l.useState([]),[d,n]=l.useState(!0),[x,a]=l.useState("");l.useEffect(()=>{(async()=>{try{const{data:i,error:p}=await t.from("orders").select(`
            *,
            order_items (
              product_name,
              quantity,
              unit_price,
              selected_color
            )
          `).order("created_at",{ascending:!1});if(p)throw p;s(i||[])}catch(i){a("Errore nel caricamento degli ordini"),console.error("Error loading orders:",i)}finally{n(!1)}})()},[t]);const j=o=>{switch(o){case"completed":case"delivered":return e.jsx(D,{className:"h-5 w-5 text-green-500"});case"processing":case"printing":case"confirmed":return e.jsx(V,{className:"h-5 w-5 text-blue-500"});case"shipped":return e.jsx(Te,{className:"h-5 w-5 text-purple-500"});case"canceled":return e.jsx(R,{className:"h-5 w-5 text-red-500"});default:return e.jsx(I,{className:"h-5 w-5 text-gray-500"})}},c=o=>{switch(o){case"completed":case"delivered":return"bg-green-100 text-green-800";case"processing":case"printing":case"confirmed":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=o=>{switch(o){case"processing":return"In Elaborazione";case"confirmed":return"Confermato";case"printing":return"In Stampa";case"completed":return"Completato";case"shipped":return"Spedito";case"delivered":return"Consegnato";case"canceled":return"Annullato";default:return o}},u=o=>new Date(o).toLocaleDateString("it-IT",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Caricamento ordini..."})]})}):x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(R,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Errore"}),e.jsx("p",{className:"text-gray-600 mb-4",children:x}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:"Riprova"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"I Miei Ordini"}),e.jsx("p",{className:"text-gray-600",children:"Visualizza lo stato dei tuoi ordini e la cronologia degli acquisti"})]}),r.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[e.jsx(I,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nessun ordine trovato"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Non hai ancora effettuato nessun ordine"}),e.jsx(y,{to:"/catalogo",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Esplora il Catalogo"})]}):e.jsx("div",{className:"space-y-6",children:r.map(o=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Ordine #",o.id.slice(0,8)]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx("span",{children:u(o.created_at)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsxs("span",{children:["€",o.total_amount.toFixed(2)]})]})]})]}),e.jsx("div",{className:"mt-3 sm:mt-0",children:e.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-xs font-medium ${c(o.order_status)}`,children:[j(o.order_status),e.jsx("span",{children:h(o.order_status)})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Prodotti"}),e.jsx("div",{className:"space-y-3",children:o.order_items.map((i,p)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.product_name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Quantità: ",i.quantity]}),i.selected_color&&e.jsxs("span",{children:["Colore: ",i.selected_color]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["€",i.unit_price.toFixed(2)]}),i.quantity>1&&e.jsxs("p",{className:"text-sm text-gray-600",children:["€",(i.unit_price*i.quantity).toFixed(2)," totale"]})]})]},p))})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[o.order_status==="processing"&&"Il tuo ordine è in elaborazione",o.order_status==="printing"&&"Il tuo ordine è in stampa",o.order_status==="completed"&&"Il tuo ordine è stato completato",o.order_status==="shipped"&&"Il tuo ordine è stato spedito",o.order_status==="delivered"&&"Il tuo ordine è stato consegnato"]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx(y,{to:`/ordini/${o.id}`,className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Visualizza Dettagli"})})]})})]})},o.id))})]})})},Bs=()=>{const{orderId:t}=ve(),{supabase:r}=q(),[s,d]=l.useState(null),[n,x]=l.useState(!0),[a,j]=l.useState("");l.useEffect(()=>{t&&(async()=>{try{x(!0);const{data:p,error:g}=await r.from("orders").select(`
            *,
            order_items (
              product_name,
              quantity,
              unit_price,
              selected_color
            )
          `).eq("id",t).maybeSingle();if(g)throw g;if(!p){j("Ordine non trovato");return}d(p)}catch(p){console.error("Error loading order:",p),j("Errore nel caricamento dell'ordine")}finally{x(!1)}})()},[t,r]);const c=i=>{switch(i){case"completed":case"delivered":return e.jsx(D,{className:"h-6 w-6 text-green-500"});case"processing":case"printing":case"confirmed":return e.jsx(V,{className:"h-6 w-6 text-blue-500"});case"shipped":return e.jsx(Te,{className:"h-6 w-6 text-purple-500"});case"canceled":return e.jsx(R,{className:"h-6 w-6 text-red-500"});default:return e.jsx(I,{className:"h-6 w-6 text-gray-500"})}},h=i=>{switch(i){case"completed":case"delivered":return"bg-green-100 text-green-800 border-green-200";case"processing":case"printing":case"confirmed":return"bg-blue-100 text-blue-800 border-blue-200";case"shipped":return"bg-purple-100 text-purple-800 border-purple-200";case"canceled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},u=i=>{switch(i){case"processing":return"In Elaborazione";case"confirmed":return"Confermato";case"printing":return"In Stampa";case"completed":return"Completato";case"shipped":return"Spedito";case"delivered":return"Consegnato";case"canceled":return"Annullato";default:return i}},o=i=>new Date(i).toLocaleDateString("it-IT",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Caricamento ordine..."})]})}):a||!s?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(R,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ordine non trovato"}),e.jsx("p",{className:"text-gray-600 mb-4",children:a||"L'ordine richiesto non esiste"}),e.jsx(y,{to:"/ordini",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium",children:"Torna agli Ordini"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(y,{to:"/ordini",className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium mb-4",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:"Torna agli ordini"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Ordine #",s.id.slice(0,8)]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Creato il ",o(s.created_at)]})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("div",{className:`inline-flex items-center space-x-2 px-4 py-2 rounded-lg border ${h(s.order_status)}`,children:[c(s.order_status),e.jsx("span",{className:"font-medium",children:u(s.order_status)})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2"}),"Prodotti Ordinati"]}),e.jsx("div",{className:"space-y-4",children:s.order_items.map((i,p)=>e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:i.product_name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{children:["Quantità: ",i.quantity]}),i.selected_color&&e.jsxs("span",{children:["Colore: ",i.selected_color]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["€",i.unit_price.toFixed(2)]}),i.quantity>1&&e.jsxs("p",{className:"text-sm text-gray-600",children:["€",(i.unit_price*i.quantity).toFixed(2)," totale"]})]})]},p))}),e.jsx("div",{className:"border-t border-gray-200 mt-6 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[e.jsx("span",{children:"Totale Ordine:"}),e.jsxs("span",{className:"text-blue-600",children:["€",s.total_amount.toFixed(2)]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Stato dell'Ordine"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Ordine Ricevuto"}),e.jsx("p",{className:"text-sm text-gray-600",children:o(s.created_at)})]})]}),s.order_status!=="processing"&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Pagamento Confermato"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pagamento elaborato con successo"})]})]}),["printing","completed","shipped","delivered"].includes(s.order_status)&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"In Produzione"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Il tuo prodotto è in stampa"})]})]}),["completed","shipped","delivered"].includes(s.order_status)&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Produzione Completata"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Il tuo prodotto è pronto"})]})]}),s.order_status==="printing"&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(V,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"In Stampa"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Il tuo prodotto è attualmente in stampa"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informazioni Cliente"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.customer_email})]}),s.customer_phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(re,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:s.customer_phone})]})]})]}),s.shipping_address&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Indirizzo di Spedizione"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400 mt-1"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:s.customer_name}),e.jsx("p",{children:s.shipping_address.address}),e.jsxs("p",{children:[s.shipping_address.postalCode," ",s.shipping_address.city]}),e.jsx("p",{children:"Italia"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informazioni Pagamento"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Metodo:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Carta di Credito"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Stato:"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"Pagato"})]}),s.payment_intent_id&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ID Transazione:"}),e.jsx("span",{className:"text-sm font-mono text-gray-900",children:s.payment_intent_id})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Hai bisogno di aiuto?"}),e.jsx("p",{className:"text-sm text-blue-700 mb-4",children:"Contattaci per qualsiasi domanda sul tuo ordine"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("a",{href:"mailto:info@3dsumisura.it",className:"block text-sm text-blue-600 hover:text-blue-700 font-medium",children:"info@3dsumisura.it"}),e.jsx("a",{href:"tel:+391234567890",className:"block text-sm text-blue-600 hover:text-blue-700 font-medium",children:"+39 123 456 7890"})]})]})]})]})]})})},Zs=()=>{const[t,r]=l.useState(""),[s,d]=l.useState(""),[n,x]=l.useState(!1),[a,j]=l.useState(!1),[c,h]=l.useState(""),[u,o]=l.useState(!1),[i,p]=l.useState(""),[g,m]=l.useState(""),[N,w]=l.useState(""),{signIn:E,user:A,supabase:_}=q(),T=Y();l.useEffect(()=>{A&&T("/")},[A,T]);const L=u?async S=>{if(S.preventDefault(),j(!0),h(""),w(""),s!==g){h("Le password non coincidono"),j(!1);return}if(s.length<6){h("La password deve essere di almeno 6 caratteri"),j(!1);return}try{const{error:z}=await _.auth.signUp({email:t,password:s,options:{data:{full_name:i}}});z?h(z.message):(w("Account creato con successo! Controlla la tua email per confermare l'account."),o(!1),r(""),d(""),p(""),m(""))}catch{h("Errore durante la registrazione")}finally{j(!1)}}:async S=>{S.preventDefault(),j(!0),h("");try{const{error:z}=await E(t,s);z&&h("Credenziali non valide")}catch{h("Errore durante il login")}finally{j(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(J,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:u?"Registrati":"Accedi"}),e.jsx("p",{className:"text-gray-600 mt-2",children:u?"Crea un nuovo account per iniziare":"Accedi al tuo account per continuare"})]}),e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[c&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(R,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Errore"}),e.jsx("p",{className:"text-sm text-red-700",children:c})]})]}),N&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(D,{className:"h-5 w-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:"Successo"}),e.jsx("p",{className:"text-sm text-green-700",children:N})]})]}),u&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),e.jsx("input",{id:"name",type:"text",required:!0,value:i,onChange:S=>p(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mario Rossi"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:S=>r(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"mario@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:n?"text":"password",required:!0,value:s,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>x(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n?e.jsx(Ie,{className:"h-4 w-4 text-gray-400"}):e.jsx(me,{className:"h-4 w-4 text-gray-400"})})]})]}),u&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Conferma Password"}),e.jsx("input",{id:"confirmPassword",type:"password",required:!0,value:g,onChange:S=>m(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:u?"Registrazione...":"Accesso..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"h-5 w-5"}),e.jsx("span",{children:u?"Registrati":"Accedi"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>{o(!u),h(""),w(""),r(""),d(""),p(""),m("")},className:"text-blue-600 hover:text-blue-700 font-medium",children:u?"Hai già un account? Accedi":"Non hai un account? Registrati"})}),!u&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx(y,{to:"/admin/login",className:"text-sm text-gray-600 hover:text-gray-900",children:"Sei un amministratore? Accedi qui"})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Account Demo"}),e.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"Per testare il sistema, puoi registrarti con qualsiasi email o usare:"}),e.jsxs("div",{className:"text-sm font-mono text-blue-800",children:[e.jsx("p",{children:"Email: demo@3dsumisura.it"}),e.jsx("p",{children:"Password: demo123"})]})]})]})})},Qs=()=>{const{user:t,supabase:r}=q(),[s,d]=l.useState({}),[n,x]=l.useState(!0),[a,j]=l.useState(!1),[c,h]=l.useState(!1),[u,o]=l.useState("");l.useEffect(()=>{t&&(async()=>{var m;try{const{data:N,error:w}=await r.from("user_profiles").select("*").eq("user_id",t==null?void 0:t.id).maybeSingle();if(w)throw w;d(N||{full_name:((m=t==null?void 0:t.user_metadata)==null?void 0:m.full_name)||"",country:"IT"})}catch(N){console.error("Error loading profile:",N),o("Errore nel caricamento del profilo")}finally{x(!1)}})()},[t,r]);const i=g=>{d({...s,[g.target.name]:g.target.value})},p=async g=>{g.preventDefault(),j(!0),o(""),h(!1);try{const m={user_id:t==null?void 0:t.id,full_name:s.full_name,phone:s.phone,address:s.address,city:s.city,postal_code:s.postal_code,country:s.country||"IT"},{error:N}=await r.from("user_profiles").upsert(m,{onConflict:"user_id"});if(N)throw N;h(!0),setTimeout(()=>h(!1),3e3)}catch(m){console.error("Error saving profile:",m),o("Errore nel salvataggio del profilo")}finally{j(!1)}};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Caricamento profilo..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx(J,{className:"h-8 w-8 mr-3"}),"Il Mio Profilo"]}),e.jsx("p",{className:"text-gray-600",children:"Gestisci le tue informazioni personali"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"mb-8 pb-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informazioni Account"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Membro dal"}),e.jsx("p",{className:"font-medium text-gray-900",children:t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("it-IT"):"N/A"})]})]})]})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informazioni Personali"}),e.jsx(Fe,{className:"h-5 w-5 text-gray-400"})]}),u&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-700",children:u})}),c&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-2",children:[e.jsx(D,{className:"h-5 w-5 text-green-500"}),e.jsx("p",{className:"text-green-700",children:"Profilo aggiornato con successo!"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),e.jsx("input",{type:"text",id:"full_name",name:"full_name",value:s.full_name||"",onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mario Rossi"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefono"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone||"",onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+39 123 456 7890"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(Q,{className:"h-5 w-5 mr-2"}),"Indirizzo"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Via e Numero Civico"}),e.jsx("input",{type:"text",id:"address",name:"address",value:s.address||"",onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Via Roma 123"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"Città"}),e.jsx("input",{type:"text",id:"city",name:"city",value:s.city||"",onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Milano"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-700 mb-2",children:"CAP"}),e.jsx("input",{type:"text",id:"postal_code",name:"postal_code",value:s.postal_code||"",onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"20121"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-2",children:"Paese"}),e.jsx("input",{type:"text",id:"country",name:"country",value:s.country||"IT",onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"IT"})]})]})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Salvataggio..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"h-5 w-5"}),e.jsx("span",{children:"Salva Modifiche"})]})})]})]})]})})},Xs=()=>{const[t,r]=l.useState(""),[s,d]=l.useState(""),[n,x]=l.useState(!1),[a,j]=l.useState(!1),[c,h]=l.useState(""),{signIn:u,user:o,isAdmin:i}=q(),p=Y();l.useEffect(()=>{o&&i&&p("/admin/dashboard")},[o,i,p]);const g=async m=>{m.preventDefault(),j(!0),h("");try{const{error:N}=await u(t,s);N&&h("Credenziali non valide")}catch{h("Errore durante il login")}finally{j(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(H,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Admin Login"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Accedi al pannello di amministrazione"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[c&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(R,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Errore di Login"}),e.jsx("p",{className:"text-sm text-red-700",children:c}),e.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Se l'admin non esiste ancora, ",e.jsx(y,{to:"/admin/setup",className:"underline font-medium",children:"crealo qui"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:m=>r(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:n?"text":"password",required:!0,value:s,onChange:m=>d(m.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>x(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n?e.jsx(Ie,{className:"h-4 w-4 text-gray-400"}):e.jsx(me,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Accesso in corso..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"h-5 w-5"}),e.jsx("span",{children:"Accedi"})]})})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Solo per amministratori autorizzati"}),e.jsxs(y,{to:"/admin/setup",className:"inline-flex items-center space-x-2 text-purple-600 hover:text-purple-700 text-sm font-medium",children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Crea primo admin"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[e.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:"Demo Admin"}),e.jsx("p",{className:"text-sm text-yellow-700 mb-2",children:"Credenziali predefinite per il test:"}),e.jsxs("div",{className:"text-sm font-mono text-yellow-800",children:[e.jsx("p",{children:"Email: admin@3dsumisura.it"}),e.jsx("p",{children:"Password: admin123456"})]}),e.jsxs("p",{className:"text-xs text-yellow-600 mt-2",children:["Usa il ",e.jsx(y,{to:"/admin/setup",className:"underline font-medium",children:"setup admin"})," per creare l'utente"]})]})]})})},Gs=()=>{const[t,r]=l.useState({email:"admin@3dsumisura.it",password:"admin123456",username:"admin",masterKey:"your-secret-master-key-2024"}),[s,d]=l.useState(!1),[n,x]=l.useState(!1),[a,j]=l.useState(""),c=u=>{r({...t,[u.target.name]:u.target.value})},h=async u=>{u.preventDefault(),d(!0),j(""),x(!1);try{const i=await fetch("https://ddmkhgobkzpwlmzgxuzc.supabase.co/functions/v1/create-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRkbWtoZ29ia3pwd2xtemd4dXpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4MjczMzAsImV4cCI6MjA2NTQwMzMzMH0.DE0OQ4G93ognZuCH2z2rl-IdCy7ua1w_9bCYJuGJAwA"},body:JSON.stringify(t)}),p=await i.json();if(!i.ok)throw new Error(p.error||"Failed to create admin user");x(!0)}catch(o){j(o instanceof Error?o.message:"An error occurred")}finally{d(!1)}};return n?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-600 to-green-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full space-y-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[e.jsx("div",{className:"bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(D,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Admin Creato!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"L'utente amministratore è stato creato con successo. Ora puoi accedere al pannello di amministrazione."}),e.jsxs(y,{to:"/admin/login",className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors duration-200",children:[e.jsx(H,{className:"h-5 w-5"}),e.jsx("span",{children:"Vai al Login Admin"})]})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 to-purple-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ce,{className:"h-8 w-8 text-purple-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Setup Admin"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Crea il primo utente amministratore"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(R,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Errore"}),e.jsx("p",{className:"text-sm text-red-700",children:a})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Admin"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",minLength:8}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimo 8 caratteri"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"masterKey",className:"block text-sm font-medium text-gray-700 mb-2",children:"Master Key"}),e.jsx("input",{id:"masterKey",name:"masterKey",type:"password",required:!0,value:t.masterKey,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deve corrispondere alla chiave configurata in Supabase"})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Creazione in corso..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"h-5 w-5"}),e.jsx("span",{children:"Crea Admin"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(y,{to:"/admin/login",className:"inline-flex items-center space-x-2 text-purple-600 hover:text-purple-700 text-sm font-medium",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:"Torna al Login"})]})})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:"Importante"}),e.jsxs("p",{className:"text-sm text-yellow-700 mb-2",children:["Prima di procedere, assicurati che la variabile ",e.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"ADMIN_MASTER_KEY"}),"sia configurata nelle variabili d'ambiente delle Edge Functions di Supabase."]}),e.jsx("p",{className:"text-xs text-yellow-600",children:"Vai su: Project Settings → Edge Functions → Environment Variables"})]})]})})},Ks=()=>{const{signOut:t,user:r,supabase:s}=q(),d=Y(),[n,x]=l.useState([]),[a,j]=l.useState(!0),[c,h]=l.useState(""),[u,o]=l.useState("all");l.useState("all");const[i,p]=l.useState(""),[g,m]=l.useState(null),[N,w]=l.useState(""),[E,A]=l.useState(!1),_=[{value:"processing",label:"In Elaborazione",color:"bg-blue-100 text-blue-800"},{value:"confirmed",label:"Confermato",color:"bg-blue-100 text-blue-800"},{value:"printing",label:"In Stampa",color:"bg-yellow-100 text-yellow-800"},{value:"completed",label:"Completato",color:"bg-green-100 text-green-800"},{value:"shipped",label:"Spedito",color:"bg-purple-100 text-purple-800"},{value:"delivered",label:"Consegnato",color:"bg-green-100 text-green-800"},{value:"canceled",label:"Annullato",color:"bg-red-100 text-red-800"}],T=async()=>{try{j(!0),p("");const{data:b,error:C}=await s.from("orders").select(`
          *,
          order_items (
            product_name,
            quantity,
            unit_price,
            selected_color
          )
        `).order("created_at",{ascending:!1});if(C)throw C;x(b||[])}catch(b){p("Errore nel caricamento degli ordini"),console.error("Error loading orders:",b)}finally{j(!1)}},B=async(b,C)=>{try{A(!0);const{error:F}=await s.from("orders").update({order_status:C,updated_at:new Date().toISOString()}).eq("id",b);if(F)throw F;x(n.map(le=>le.id===b?{...le,order_status:C,updated_at:new Date().toISOString()}:le)),m(null),w("")}catch(F){console.error("Error updating order status:",F),p("Errore nell'aggiornamento dello stato dell'ordine")}finally{A(!1)}};l.useEffect(()=>{T()},[]);const Z=b=>{const C=_.find(F=>F.value===b);return(C==null?void 0:C.color)||"bg-gray-100 text-gray-800"},L=b=>{const C=_.find(F=>F.value===b);return(C==null?void 0:C.label)||b},S=b=>new Date(b).toLocaleDateString("it-IT",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=n.filter(b=>{const C=b.customer_name.toLowerCase().includes(c.toLowerCase())||b.customer_email.toLowerCase().includes(c.toLowerCase())||b.id.toLowerCase().includes(c.toLowerCase()),F=u==="all"||b.order_status===u;return C&&F}),v=n.reduce((b,C)=>b+C.total_amount,0),k=n.length,P=n.filter(b=>["processing","printing"].includes(b.order_status)).length,O=n.filter(b=>b.order_status==="completed").length,X=async()=>{try{await t(),d("/admin/login")}catch(b){console.error("Error during logout:",b)}},Ve=(b,C)=>{m(b),w(C)},ue=()=>{m(null),w("")},Ue=b=>{var C;N&&N!==((C=n.find(F=>F.id===b))==null?void 0:C.order_status)?B(b,N):ue()};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(I,{className:"h-8 w-8 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("a",{href:"/",className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(hs,{className:"h-4 w-4"}),e.jsx("span",{children:"Home"})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Benvenuto, ",r==null?void 0:r.email]}),e.jsxs("button",{onClick:X,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:"Esci"})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ordini Totali"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:k})]}),e.jsx(I,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ricavi Totali"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["€",v.toFixed(2)]})]}),e.jsx(zs,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Lavorazione"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:P})]}),e.jsx(Me,{className:"h-8 w-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completati"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:O})]}),e.jsx(he,{className:"h-8 w-8 text-purple-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Gestione Ordini"}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cerca ordini...",value:c,onChange:b=>h(b.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:u,onChange:b=>o(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tutti gli stati"}),_.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))]}),e.jsxs("button",{onClick:T,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors",children:[e.jsx(vs,{className:`h-4 w-4 ${a?"animate-spin":""}`}),e.jsx("span",{children:"Aggiorna"})]})]})]})}),i&&e.jsx("div",{className:"px-6 py-4 bg-red-50 border-b border-red-200",children:e.jsx("p",{className:"text-red-700",children:i})}),a?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Caricamento ordini..."})]}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Ordine"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prodotti"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Totale"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stato"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Azioni"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",b.id.slice(0,8)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.customer_name}),e.jsx("div",{className:"text-sm text-gray-500",children:b.customer_email})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S(b.created_at)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:b.order_items.map((C,F)=>e.jsxs("div",{className:"mb-1",children:[C.quantity,"x ",C.product_name,C.selected_color&&e.jsxs("span",{className:"text-gray-500",children:[" (",C.selected_color,")"]})]},F))})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["€",b.total_amount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g===b.id?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("select",{value:N,onChange:C=>w(C.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:E,children:_.map(C=>e.jsx("option",{value:C.value,children:C.label},C.value))}),e.jsx("button",{onClick:()=>Ue(b.id),disabled:E,className:"text-green-600 hover:text-green-700 disabled:text-green-400",children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:ue,disabled:E,className:"text-gray-600 hover:text-gray-700 disabled:text-gray-400",children:e.jsx(Oe,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(b.order_status)}`,children:L(b.order_status)}),e.jsx("button",{onClick:()=>Ve(b.id,b.order_status),className:"text-blue-600 hover:text-blue-700",children:e.jsx(Fe,{className:"h-4 w-4"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("button",{onClick:()=>window.open(`/ordini/${b.id}`,"_blank"),className:"text-blue-600 hover:text-blue-900 flex items-center space-x-1",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:"Visualizza"})]})})]},b.id))})]}),z.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(I,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nessun ordine trovato"}),e.jsx("p",{className:"text-gray-600",children:c||u!=="all"?"Prova a modificare i filtri di ricerca":"Non ci sono ordini da visualizzare"})]})]})]})]})]})},Ys=({children:t})=>{const{user:r,isAdmin:s,loading:d}=q();return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Verifica autorizzazioni..."})]})}):r?s?e.jsx(e.Fragment,{children:t}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Accesso Negato"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Non hai i permessi per accedere a questa area"}),e.jsx("button",{onClick:()=>window.location.href="/",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium",children:"Torna alla Home"})]})}):e.jsx(we,{to:"/admin/login",replace:!0})},G=({children:t})=>{const{user:r,loading:s}=q(),d=Ne();return s?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Caricamento..."})]})}):r?e.jsx(e.Fragment,{children:t}):e.jsx(we,{to:"/login",state:{from:d},replace:!0})};function Ws(){return e.jsx(is,{children:e.jsx(ns,{children:e.jsx(Je,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:e.jsxs(pe,{children:[e.jsx(M,{path:"/admin/login",element:e.jsx(Xs,{})}),e.jsx(M,{path:"/admin/setup",element:e.jsx(Gs,{})}),e.jsx(M,{path:"/admin/dashboard",element:e.jsx(Ys,{children:e.jsx(Ks,{})})}),e.jsx(M,{path:"/*",element:e.jsxs(e.Fragment,{children:[e.jsx(Ps,{}),e.jsx("main",{className:"flex-grow",children:e.jsxs(pe,{children:[e.jsx(M,{path:"/",element:e.jsx(qs,{})}),e.jsx(M,{path:"/chi-siamo",element:e.jsx(Ts,{})}),e.jsx(M,{path:"/catalogo",element:e.jsx(Os,{})}),e.jsx(M,{path:"/contatti",element:e.jsx(Ls,{})}),e.jsx(M,{path:"/prodotto/:id",element:e.jsx(Us,{})}),e.jsx(M,{path:"/login",element:e.jsx(Zs,{})}),e.jsx(M,{path:"/carrello",element:e.jsx(G,{children:e.jsx($s,{})})}),e.jsx(M,{path:"/checkout",element:e.jsx(G,{children:e.jsx(Hs,{})})}),e.jsx(M,{path:"/ordini",element:e.jsx(G,{children:e.jsx(Js,{})})}),e.jsx(M,{path:"/ordini/:orderId",element:e.jsx(G,{children:e.jsx(Bs,{})})}),e.jsx(M,{path:"/profilo",element:e.jsx(G,{children:e.jsx(Qs,{})})})]})}),e.jsx(Ms,{})]})})]})})})})})}class et extends React.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("App Error:",r,s)}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",textAlign:"center",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{children:"Something went wrong"}),e.jsx("p",{children:"Please check the console for more details."}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const Re=document.getElementById("root");if(!Re)throw new Error("Root element not found");Se(Re).render(e.jsx(l.StrictMode,{children:e.jsx(et,{children:e.jsx(Ws,{})})}));
