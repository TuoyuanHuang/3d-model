import{u as w,j as e}from"./index-CNRBJ32G.js";import{r as s}from"./vendor-seEwQDT5.js";import{c as N,L as y}from"./router-BnLuTL28.js";import{o as v,S as h,z as E,J as S,K as A}from"./ui-CrNHFUv9.js";import"./supabase-BZoxqOT3.js";const z=()=>{const[l,p]=s.useState(""),[i,b]=s.useState(""),[t,f]=s.useState(!1),[n,o]=s.useState(!1),[d,a]=s.useState(""),{signIn:g,user:c,isAdmin:m}=w(),x=N();s.useEffect(()=>{c&&m&&x("/admin/dashboard")},[c,m,x]);const j=async r=>{r.preventDefault(),o(!0),a("");try{const{error:u}=await g(l,i);u&&a("Credenziali non valide")}catch{a("Errore durante il login")}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-800 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsx("div",{className:"text-center",children:e.jsxs(y,{to:"/",className:"inline-flex items-center space-x-2 text-blue-100 hover:text-white transition-colors mb-6",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:"Torna alla Home"})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(h,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Admin Login"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Accedi al pannello di amministrazione"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[d&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(E,{className:"h-5 w-5 text-red-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Errore di Login"}),e.jsx("p",{className:"text-sm text-red-700",children:d})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{id:"email",type:"email",required:!0,value:l,onChange:r=>p(r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:t?"text":"password",required:!0,value:i,onChange:r=>b(r.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>f(!t),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t?e.jsx(S,{className:"h-4 w-4 text-gray-400"}):e.jsx(A,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-4 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center space-x-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Accesso in corso..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-5 w-5"}),e.jsx("span",{children:"Accedi"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-600"})})]})]})})};export{z as default};
